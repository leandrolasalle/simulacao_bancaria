<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: A Jornada de uma Simula√ß√£o Banc√°ria</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- 
    Narrative Plan:
    - Title: Anatomia de uma Simula√ß√£o Banc√°ria: Uma Jornada Full-Stack
    - Sections: O Stack Tecnol√≥gico, A Arquitetura MVC, A Jornada do Desenvolvimento (Timeline), An√°lise de Erros, Funcionalidades Chave, Li√ß√µes Aprendidas.
    - Story: Guiar o utilizador desde a funda√ß√£o do projeto, passando pelos desafios do desenvolvimento, at√© as funcionalidades finais e os principais aprendizados.

    Visualization Choices:
    - Tech Stack -> Goal: Inform -> Method: Icon Cards (HTML/CSS + Unicode, NO SVG) -> Justification: Resumo visual e r√°pido das tecnologias.
    - Architecture -> Goal: Organize -> Method: Flowchart (HTML/CSS, NO SVG/Mermaid) -> Justification: Mostra claramente as rela√ß√µes entre os ficheiros do projeto.
    - Development Journey -> Goal: Change -> Method: Timeline (HTML/CSS, NO SVG) -> Justification: A melhor forma de mostrar um processo cronol√≥gico com marcos e obst√°culos.
    - Error Analysis -> Goal: Compare -> Method: Donut Chart (Chart.js/Canvas, NO SVG) -> Justification: Ideal para mostrar as propor√ß√µes dos tipos de erro.

    Confirmation: NEITHER Mermaid JS NOR SVG were used anywhere in this output. All diagrams are built with structured HTML and CSS.
    Color Palette: Energetic & Playful (#003f5c, #7a5195, #ef5675, #ffa600) - Note: I'm adapting this slightly for better contrast and naming. Let's call it "Vibrant Core". HEX codes: #003f5c (Azul Escuro), #7a5195 (Roxo), #ef5675 (Rosa), #ffa600 (Laranja).
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #ffa600;
            border: 4px solid #f0f4f8;
        }
        .timeline-item.roadblock::before {
            background-color: #ef5675;
        }
    </style>
</head>
<body class="text-gray-1000">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">

        <header class="text-center mb-12 md:mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-[#003f5c] mb-2">Anatomia de uma Simula√ß√£o Banc√°ria</h1>
            <p class="text-lg md:text-xl text-gray-600">Uma jornada full-stack com Python, FastAPI, SQLAlchemy e PostgreSQL.</p>
        </header>

        <main class="space-y-16 md:space-y-24">

            <section id="tech-stack">
                <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">O Stack Tecnol√≥gico</h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                    <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                        <div class="text-5xl mb-3">üêç</div>
                        <h3 class="text-xl font-semibold text-[#003f5c]">Python</h3>
                        <p class="text-gray-500">A base l√≥gica do backend.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                        <div class="text-5xl mb-3">üöÄ</div>
                        <h3 class="text-xl font-semibold text-[#003f5c]">FastAPI</h3>
                        <p class="text-gray-500">Framework para a API e rotas web.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                        <div class="text-5xl mb-3">üêò</div>
                        <h3 class="text-xl font-semibold text-[#003f5c]">PostgreSQL</h3>
                        <p class="text-gray-500">O banco de dados relacional.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                        <div class="text-5xl mb-3">üîó</div>
                        <h3 class="text-xl font-semibold text-[#003f5c]">SQLAlchemy</h3>
                        <p class="text-gray-500">O ORM para a comunica√ß√£o com o banco.</p>
                    </div>
                </div>
            </section>

            <section id="architecture">
                <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-12">A Arquitetura MVC-inspirada</h2>
                <div class="bg-white p-8 rounded-lg shadow-lg">
                    <p class="text-center text-gray-600 mb-8">O projeto foi estruturado para separar responsabilidades, facilitando a manuten√ß√£o e escalabilidade. O fluxo de um pedido do utilizador atravessa estas camadas de forma organizada.</p>
                    <div class="flex flex-col md:flex-row justify-around items-center space-y-8 md:space-y-0 text-center">
                        <div class="flex flex-col items-center">
                            <div class="w-48 p-4 bg-[#f0f4f8] border-2 border-[#003f5c] rounded-lg shadow">
                                <h4 class="font-bold text-[#003f5c]">View (templates/)</h4>
                                <p class="text-sm text-gray-500">Interface HTML (Jinja2)</p>
                            </div>
                            <div class="text-2xl text-[#7a5195] my-2">‚Üï</div>
                            <p class="text-xs text-gray-500">Pedido do Utilizador</p>
                        </div>

                        <div class="text-4xl text-[#ffa600] hidden md:block">‚Üí</div>

                        <div class="flex flex-col items-center">
                             <div class="w-48 p-4 bg-[#f0f4f8] border-2 border-[#7a5195] rounded-lg shadow">
                                <h4 class="font-bold text-[#7a5195]">Controller (controllers/)</h4>
                                <p class="text-sm text-gray-500">L√≥gica de Rota (FastAPI)</p>
                            </div>
                        </div>

                        <div class="text-4xl text-[#ffa600] hidden md:block">‚Üí</div>
                        
                        <div class="flex flex-col items-center">
                             <div class="w-48 p-4 bg-[#f0f4f8] border-2 border-[#ef5675] rounded-lg shadow">
                                <h4 class="font-bold text-[#ef5675]">Model (crud.py, models.py)</h4>
                                <p class="text-sm text-gray-500">L√≥gica de Dados (SQLAlchemy)</p>
                            </div>
                             <div class="text-2xl text-gray-400 my-2">‚Üî</div>
                             <p class="text-xs text-gray-500">Base de Dados</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="journey">
                <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-12">A Jornada do Desenvolvimento</h2>
                <div class="relative pl-8 border-l-2 border-dashed border-gray-300">
                    <div class="timeline-item relative pb-12">
                        <h3 class="text-xl font-bold text-[#003f5c]">Setup Inicial</h3>
                        <p class="text-gray-600">Defini√ß√£o da estrutura de pastas e instala√ß√£o das depend√™ncias iniciais.</p>
                    </div>
                    <div class="timeline-item roadblock relative pb-12">
                        <h3 class="text-xl font-bold text-[#ef5675]">Obst√°culo: Conex√£o com o Banco</h3>
                        <p class="text-gray-600">Surgiram os primeiros desafios: erros de `timeout` e `password authentication failed`, exigindo depura√ß√£o da instala√ß√£o do PostgreSQL e dos ficheiros de configura√ß√£o.</p>
                    </div>
                    <div class="timeline-item relative pb-12">
                        <h3 class="text-xl font-bold text-[#003f5c]">Implementa√ß√£o do CRUD B√°sico</h3>
                        <p class="text-gray-600">Cria√ß√£o das funcionalidades de criar conta, consultar saldo, depositar e sacar.</p>
                    </div>
                     <div class="timeline-item roadblock relative pb-12">
                        <h3 class="text-xl font-bold text-[#ef5675]">Obst√°culo: Erros de Importa√ß√£o</h3>
                        <p class="text-gray-600">`ModuleNotFoundError` e `ImportError` apareceram devido a imports relativos e √† estrutura de pacotes, necessitando de uma refatora√ß√£o na forma como os m√≥dulos se comunicavam.</p>
                    </div>
                    <div class="timeline-item relative pb-12">
                        <h3 class="text-xl font-bold text-[#003f5c]">Expans√£o de Funcionalidades</h3>
                        <p class="text-gray-600">Adi√ß√£o das funcionalidades de atualizar e deletar contas, e implementa√ß√£o de um endpoint de API (`PUT`).</p>
                    </div>
                    <div class="timeline-item roadblock relative pb-12">
                        <h3 class="text-xl font-bold text-[#ef5675]">Obst√°culo: Sincroniza√ß√£o com Git</h3>
                        <p class="text-gray-600">Ao tentar enviar para o GitHub, surgiram erros de `non-fast-forward` devido a hist√≥ricos divergentes, resolvidos com `git pull` estrat√©gico.</p>
                    </div>
                    <div class="timeline-item relative pb-4">
                        <h3 class="text-xl font-bold text-[#003f5c]">Documenta√ß√£o e Finaliza√ß√£o</h3>
                        <p class="text-gray-600">Cria√ß√£o do `README.md` e da Wiki do projeto para documentar a arquitetura, funcionalidades e guias de uso.</p>
                    </div>
                </div>
            </section>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                <section id="error-analysis">
                    <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">An√°lise de Erros Encontrados</h2>
                    <p class="text-center text-gray-600 mb-6">Uma an√°lise dos tipos de erro mais comuns durante o desenvolvimento mostra que a configura√ß√£o do ambiente e a estrutura√ß√£o do c√≥digo foram os maiores desafios.</p>
                    <div class="chart-container bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-auto h-100 md:h-96">
                        <canvas id="errorChart"></canvas>
                    </div>
                </section>

                <section id="features">
                    <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">Funcionalidades Chave</h2>
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg shadow-md flex items-center space-x-4">
                            <div class="text-2xl text-green-500">‚úö</div>
                            <div>
                                <h4 class="font-semibold">Criar & Deletar Contas</h4>
                                <p class="text-sm text-gray-500">Gest√£o completa do ciclo de vida de uma conta.</p>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-md flex items-center space-x-4">
                            <div class="text-2xl text-blue-500">üí∞</div>
                            <div>
                                <h4 class="font-semibold">Opera√ß√µes Financeiras</h4>
                                <p class="text-sm text-gray-500">Realiza√ß√£o de dep√≥sitos e saques com valida√ß√£o de saldo.</p>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-md flex items-center space-x-4">
                            <div class="text-2xl text-purple-500">üìù</div>
                            <div>
                                <h4 class="font-semibold">Atualizar Dados</h4>
                                <p class="text-sm text-gray-500">Edi√ß√£o de informa√ß√µes do titular atrav√©s da interface e da API.</p>
                            </div>
                        </div>
                         <div class="bg-white p-4 rounded-lg shadow-md flex items-center space-x-4">
                            <div class="text-2xl text-orange-500">üìä</div>
                            <div>
                                <h4 class="font-semibold">Consulta de Hist√≥rico</h4>
                                <p class="text-sm text-gray-500">Visualiza√ß√£o de todas as transa√ß√µes ordenadas por data.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>


            <section id="lessons">
                <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">Principais Li√ß√µes Aprendidas</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h4 class="font-bold text-lg mb-2 text-[#003f5c]">A Import√¢ncia da Estrutura</h4>
                        <p class="text-gray-600">Uma estrutura de pastas bem definida desde o in√≠cio evita a maioria dos erros de importa√ß√£o e torna o projeto mais f√°cil de navegar.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h4 class="font-bold text-lg mb-2 text-[#7a5195]">Separa√ß√£o de API e Web</h4>
                        <p class="text-gray-600">Distinguir entre controladores para a API (JSON) e para a interface web (HTML) mant√©m o c√≥digo limpo e os prop√≥sitos claros.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg">
                        <h4 class="font-bold text-lg mb-2 text-[#ef5675]">Depura√ß√£o Sistem√°tica</h4>
                        <p class="text-gray-600">Erros de conex√£o e configura√ß√£o s√£o comuns. Abord√°-los passo a passo, desde a verifica√ß√£o do servi√ßo at√© os ficheiros de configura√ß√£o, √© a chave para a solu√ß√£o.</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-16 md:mt-24 pt-8 border-t border-gray-200">
            <p class="text-gray-500">Infogr√°fico gerado para documentar o projeto "Simula√ß√£o Banc√°ria".</p>
        </footer>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const ctx = document.getElementById('errorChart').getContext('2d');
        const errorChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: [
                    'DB, Git',
                    'Python',
                    'Valida√ß√£o,CRUD'
                ],
                datasets: [{
                    label: 'Tipos de Erro',
                    data: [15, 17,10],
                    backgroundColor: [
                        '#ef5675',
                        '#ffa600',
                        '#7a5195'
                    ],
                    borderColor: '#f0f4f8',
                    borderWidth: 4,
                    hoverOffset: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            textAlign: 'center', // üîπ Centraliza texto em v√°rias linhas
                            font: {
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: function (tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                    return label.join(' '); // junta linhas no tooltip
                                } else {
                                    return label;
                                }
                            }
                        }
                    }
                },
                cutout: '60%'
            }
        });

        // Quebra textos longos em v√°rias linhas
        const processLongLabels = (chart) => {
            chart.data.labels.forEach((label, index) => {
                if (typeof label === 'string' && label.length > 16) {
                    const words = label.split(' ');
                    const newLabel = [];
                    let currentLine = '';
                    words.forEach(word => {
                        if ((currentLine + ' ' + word).trim().length > 16) {
                            newLabel.push(currentLine.trim());
                            currentLine = word;
                        } else {
                            currentLine = (currentLine + ' ' + word).trim();
                        }
                    });
                    newLabel.push(currentLine.trim());
                    chart.data.labels[index] = newLabel;
                }
            });
        };

        processLongLabels(errorChart);
        errorChart.update();
    });
</script>

</body>
</html>

